name = "shotsped1"
main = "worker.js"
compatibility_date = "2024-01-01"
workers_dev = true

[triggers]
crons = ["*/5 * * * *"] # Run every 5 minutes for health checks

# Custom domain deployment (optional)
#
# Wrangler expects `routes` to be an array.
# Uncomment and edit if you want to bind this Worker to a zone/hostname.
# routes = [
#   { pattern = "your-domain.com/*", zone_name = "your-domain.com" }
# ]

[vars]
ENVIRONMENT = "production"
API_VERSION = "1.0.0"

# KV namespace for persistent account storage
[[kv_namespaces]]
binding = "ACCOUNTS_KV"
id = "accounts_kv"
preview_id = "accounts_kv_preview"

[build]
command = "echo 'Building VLES Trojan Worker...'"

[dev]
port = 8787
local_protocol = "https"

[placement]
mode = "smart"

# CPU limits (enforced on Cloudflare network)
# Increased for VLESS/Trojan protocol processing
